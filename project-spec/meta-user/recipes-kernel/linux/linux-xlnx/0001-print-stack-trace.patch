From dc872d561c8b2aeaf5b3090c1bd6c0251d325c00 Mon Sep 17 00:00:00 2001
From: damoferenc <damo.ferenc@yahoo.com>
Date: Wed, 25 Aug 2021 11:20:08 +0300
Subject: [PATCH] print-stack-trace

---
 drivers/media/mc/mc-device.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/drivers/media/mc/mc-device.c b/drivers/media/mc/mc-device.c
index 9e56d2ad6b94..209bd0569e09 100644
--- a/drivers/media/mc/mc-device.c
+++ b/drivers/media/mc/mc-device.c
@@ -622,10 +622,12 @@ int __must_check media_device_register_entity(struct media_device *mdev,
 
 	if (entity->function == MEDIA_ENT_F_V4L2_SUBDEV_UNKNOWN ||
 	    entity->function == MEDIA_ENT_F_UNKNOWN)
+	{
+		dump_stack();
 		dev_warn(mdev->dev,
 			 "Entity type for entity %s was not initialized!\n",
 			 entity->name);
-
+	}
 	/* Warn if we apparently re-register an entity */
 	WARN_ON(entity->graph_obj.mdev != NULL);
 	entity->graph_obj.mdev = mdev;
-- 
2.17.1

